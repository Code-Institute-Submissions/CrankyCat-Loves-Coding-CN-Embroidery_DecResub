<!-- shopping bag items -->
{% block extra_css %}
<style>
  @media screen and (max-width: 580px) {
    .hide  { display: none; }
  }
</style>
{% endblock %}
{% load bag_tools %}

<div class="table-responsive-sm">
  <table class="table table-hover my-4">
    <thead>
      <tr>
        <th class="hide" scope="col">Product Image</th>
        <th scope="col">Product Name</th>
        <th scope="col">Price</th>
        <th scope="col">Quantity</th>
        <th class="hide" scope="col">Subtotal</th>
      </tr>
    </thead>
    
    {% for item in bag_items %}
    <tbody>
      <tr>
        <td class="hide">
          <img class="img-thumbnail" src="{{ item.product.image.url }}">
        </td>

        <td>
          <p>{{ item.product.name }}</p>
        </td>

        <td>
          <p>â‚¬{{ item.product.price }}</p>
        </td>

        <td>
          <button 
            type="button" 
            class="btn btn-link text-secondary mt-3 qty-edit" 
            data-toggle="modal" 
            data-target="#id_qty_{{ item.item_id }}"
          >
            {{ item.quantity }}
          </button>
          <div>
            {% include 'bag/adjust_quantity.html' %}
          </div>
        </td>

        <td class="hide">
          <p>{{ item.product.price | calc_subtotal:item.quantity }}</p>
        </td>

      </tr>

    </tbody>

    {% endfor %}
  </table>
</div>

